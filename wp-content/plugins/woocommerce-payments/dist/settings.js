!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=86)}({0:function(e,t){!function(){e.exports=this.wp.element}()},1:function(e,t){!function(){e.exports=this.wp.i18n}()},13:function(e,t){!function(){e.exports=this.moment}()},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),o=n(51),c=n.n(o),a=n(3),s=Object(o.getCurrencyData)(),i=function(e){var t=Object(a.find)(s,{code:e.toUpperCase()});return t?new c.a(t):null},u=function(e){return wcpaySettings.zeroDecimalCurrencies.includes(e.toLowerCase())},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=u(t);n||(e/=100);var r=i(t);if(null===r)return m(e,t,n);try{return"function"==typeof r.formatAmount?r.formatAmount(e):r.formatCurrency(e)}catch(r){return m(e,t,n)}};function m(e,t,n){return Object(r.sprintf)(n?"%s %i":"%s %.2f",t.toUpperCase(),e)}},19:function(e,t){!function(){e.exports=this.wp.date}()},25:function(e,t){!function(){e.exports=this.React}()},3:function(e,t){!function(){e.exports=this.lodash}()},33:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"src",(function(){return c})),n.d(r,"init",(function(){return a}));var o={};n.r(o),n.d(o,"src",(function(){return s}));var c="https://cdn.sift.com/s.js",a=function(e){var t=e.beacon_key,n=e.session_id,r=e.user_id,o=window._sift=window._sift||[];o.push(["_setAccount",t]),o.push(["_setUserId",r]),o.push(["_setSessionId",n]),o.push(["_trackPageview"])},s="https://js.stripe.com/v3",i={sift:r,stripe:o};t.a=function(e){for(var t in e){var n=i[t];if(n&&e[t]&&(n.init&&n.init(e[t]),!document.querySelector('[src="'.concat(n.src,'"]')))){var r=document.createElement("script");r.src=n.src,r.async=!0,document.body.appendChild(r)}}}},48:function(e,t,n){"use strict";var r=n(0),o=["primary","light","warning","alert"];t.a=function(e){var t=e.message,n=e.type,c=e.isCompact,a=["chip","chip-".concat(o.find((function(e){return e===n}))||"primary"),c?"is-compact":""];return Object(r.createElement)("span",{className:a.join(" ").trim()},t)}},51:function(e,t){!function(){e.exports=this.wc.currency}()},56:function(e,t){!function(){e.exports=this.ReactDOM}()},69:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.size,n=void 0===t?24:t,o=e.onClick,c=(e.icon,e.className),s=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["size","onClick","icon","className"]),i=["gridicon","gridicons-checkmark-circle",c,!1,!1,!1].filter(Boolean).join(" ");return a.default.createElement("svg",r({className:i,height:n,width:n,onClick:o},s,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M11 17.768l-4.884-4.884 1.768-1.768L11 14.232l8.658-8.658C17.823 3.39 15.075 2 12 2 6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10c0-1.528-.353-2.97-.966-4.266L11 17.768z"})))};var o,c=n(25),a=(o=c)&&o.__esModule?o:{default:o};e.exports=t.default},70:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.size,o=void 0===n?24:n,c=e.onClick,s=(e.icon,e.className),i=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["size","onClick","icon","className"]),u=["gridicon","gridicons-notice",s,(t=o,!(0!=t%18)&&"needs-offset"),!1,!1].filter(Boolean).join(" ");return a.default.createElement("svg",r({className:u,height:o,width:o,onClick:c},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1 15h-2v-2h2v2zm0-4h-2l-.5-6h3l-.5 6z"})))};var o,c=n(25),a=(o=c)&&o.__esModule?o:{default:o};e.exports=t.default},84:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,c=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw c}}return n}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i,u,l,m,f=n(25),p=/<(\/)?(\w+)\s*(\/)?>/g;function d(e,t,n,r,o){return{element:e,tokenStart:t,tokenLength:n,prevOffset:r,leadingTextStart:o,children:[]}}var b=function(e){var t="object"===a(e),n=t&&Object.values(e);return t&&n.length&&n.every((function(e){return Object(f.isValidElement)(e)}))};function y(e){var t=function(){var e=p.exec(i);if(null===e)return["no-more-tokens"];var t=e.index,n=c(e,4),r=n[0],o=n[1],a=n[2],s=n[3],u=r.length;if(s)return["self-closed",a,t,u];if(o)return["closer",a,t,u];return["opener",a,t,u]}(),n=c(t,4),r=n[0],o=n[1],a=n[2],b=n[3],y=m.length,h=a>u?u:null;if(!e[o])return _(),!1;switch(r){case"no-more-tokens":if(0!==y){var j=m.pop(),O=j.leadingTextStart,w=j.tokenStart;l.push(i.substr(O,w))}return _(),!1;case"self-closed":return 0===y?(null!==h&&l.push(i.substr(h,a-h)),l.push(e[o]),u=a+b,!0):(v(new d(e[o],a,b)),u=a+b,!0);case"opener":return m.push(new d(e[o],a,b,a+b,h)),u=a+b,!0;case"closer":if(1===y)return function(e){var t=m.pop(),n=t.element,r=t.leadingTextStart,o=t.prevOffset,c=t.tokenStart,a=t.children,u=e?i.substr(o,e-o):i.substr(o);u&&a.push(u);null!==r&&l.push(i.substr(r,c-r));l.push(f.cloneElement.apply(void 0,[n,null].concat(s(a))))}(a),u=a+b,!0;var g=m.pop(),E=i.substr(g.prevOffset,a-g.prevOffset);g.children.push(E),g.prevOffset=a+b;var S=new d(g.element,g.tokenStart,g.tokenLength,a+b);return S.children=g.children,v(S),u=a+b,!0;default:return _(),!1}}function _(){var e=i.length-u;0!==e&&l.push(i.substr(u,e))}function v(e){var t=e.element,n=e.tokenStart,r=e.tokenLength,o=e.prevOffset,c=e.children,a=m[m.length-1],u=i.substr(a.prevOffset,n-a.prevOffset);u&&a.children.push(u),a.children.push(f.cloneElement.apply(void 0,[t,null].concat(s(c)))),a.prevOffset=o||n+r}t.a=function(e,t){if(i=e,u=0,l=[],m=[],p.lastIndex=0,!b(t))throw new TypeError("The conversionMap provided is not valid. It must be an object with values that are WPElements");do{}while(y(t));return f.createElement.apply(void 0,[f.Fragment,null].concat(s(l)))}},86:function(e,t,n){"use strict";n.r(t);var r=n(0),o=(n(25),n(56)),c=n.n(o),a=n(1),s=n(19),i=n(13),u=n.n(i),l=n(84),m=n(69),f=n.n(m),p=n(70),d=n.n(p),b=n(48),y=function(e){var t,n,o,c=e.accountStatus;return c.error?Object(r.createElement)("div",null,Object(a.__)("Error determining the connection status.")):Object(r.createElement)("div",null,Object(r.createElement)("div",null,(t=c.status,n=Object(a.__)("Unknown","woocommerce-payments"),o="light","complete"===t?(n=Object(a.__)("Complete","woocommerce-payments"),o="primary"):"restricted_soon"===t?(n=Object(a.__)("Restricted soon","woocommerce-payments"),o="warning"):"restricted"===t?(n=Object(a.__)("Restricted","woocommerce-payments"),o="alert"):t.startsWith("rejected")&&(n=Object(a.__)("Rejected","woocommerce-payments"),o="light"),Object(r.createElement)(b.a,{message:n,type:o,isCompact:!0})),function(e){var t,n,o;return e?(n=Object(a.__)("Enabled","woocommerce-payments"),o=Object(r.createElement)(f.a,{size:18}),t="account-status__info__green"):(n=Object(a.__)("Disabled","woocommerce-payments"),o=Object(r.createElement)(d.a,{size:18}),t="account-status__info__red"),Object(r.createElement)("span",{className:"account-status__info"},Object(a.__)("Payments:","woocommerce-payments"),Object(r.createElement)("span",{className:t},o,n))}(c.paymentsEnabled),function(e){var t,n="account-status__info__green",o=Object(r.createElement)(f.a,{size:18});return"disabled"===e?(t=Object(a.__)("Disabled","woocommerce-payments"),n="account-status__info__red",o=Object(r.createElement)(d.a,{size:18})):t="daily"===e?Object(a.__)("Daily","woocommerce-payments"):"weekly"===e?Object(a.__)("Weekly","woocommerce-payments"):"monthly"===e?Object(a.__)("Monthly","woocommerce-payments"):"manual"===e?Object(a.__)("Manual","woocommerce-payments"):Object(a.__)("Unknown","woocommerce-payments"),Object(r.createElement)("span",{className:"account-status__info"},Object(a.__)("Deposits:","woocommerce-payments"),Object(r.createElement)("span",{className:n},o,t))}(c.depositsStatus)),function(e){var t=e.status,n=e.currentDeadline,o=e.pastDue,c=e.accountLink;if("complete"===t)return"";var i="";return"restricted_soon"===t?i=Object(l.a)(Object(a.sprintf)(Object(a.__)("To avoid disrupting deposits, <a>update this account</a> by %s with more information about the business.","woocommerce-payments"),Object(s.dateI18n)("ga M j, Y",u()(1e3*n).toISOString())),{a:Object(r.createElement)("a",{href:c})}):"restricted"===t&&o?i=Object(l.a)(Object(a.__)("Payments and deposits are disabled for this account until missing business information is updated. <a>Update now</a>","woocommerce-payments"),{a:Object(r.createElement)("a",{href:c})}):"restricted"===t?i=Object(a.__)("Payments and deposits are disabled for this account until business information is verified by the payment processor.","woocommerce-payments"):"rejected.fraud"===t?i=Object(a.__)("This account has been rejected because of suspected fraudulent activity.","woocommerce-payments"):"rejected.terms_of_service"===t?i=Object(a.__)("This account has been rejected due to a Terms of Service violation.","woocommerce-payments"):t.startsWith("rejected")&&(i=Object(a.__)("This account has been rejected.","woocommerce-payments")),i?Object(r.createElement)("div",{className:"account-status__desc"},i):null}(c))},_=function(e){var t=e.progressLabel,n=e.totalLabel,o=e.progress,c=.5<o;return Object(r.createElement)("div",{className:"progressbar"},Object(r.createElement)("div",{className:"progressbar__container"},Object(r.createElement)("div",{className:"progressbar__inner",style:{width:100*o+"%"}},c&&Object(r.createElement)("span",{className:"progressbar__inner-progress-label"},t)),!c&&Object(r.createElement)("span",{className:"progressbar__outer-progress-label"},t)),Object(r.createElement)("span",{className:"progressbar__total-label"},n))},v=n(15),h=function(e){var t=e.feeData,n=t.volume_allowance,o=t.current_volume;return n?Object(r.createElement)(_,{progressLabel:Object(v.a)(o),totalLabel:Object(v.a)(n),progress:o/n}):null},j=function(e){var t,n=e.feeData,o=n.volume_allowance,c=n.end_time;if(o&&c)t=Object(a.sprintf)(Object(a.__)("Discounted base fee expires after the first %1$s of total payment volume or on %2$s.","woocommerce-payments"),Object(v.a)(o),Object(s.dateI18n)("F j, Y",u()(c).toISOString()));else if(o)t=Object(a.sprintf)(Object(a.__)("Discounted base fee expires after the first %1$s of total payment volume.","woocommerce-payments"),Object(v.a)(o));else{if(!c)return null;t=Object(a.sprintf)(Object(a.__)("Discounted base fee expires on %1$s.","woocommerce-payments"),Object(s.dateI18n)("F j, Y",u()(c).toISOString()))}return Object(r.createElement)("p",{className:"description"},t)},O=function(e){var t=e.accountFees,n=t.base,o=n,c=Object(a.sprintf)(Object(a.__)("%1$.1f%% + %2$s per transaction","woocommerce-payments"),100*o.percentage_rate,Object(v.a)(o.fixed_rate));if(t.discount.length){var s,i;(o=t.discount[0]).discount?(s=n.percentage_rate*(1-o.discount),i=n.fixed_rate*(1-o.discount)):(s=o.percentage_rate,i=o.fixed_rate);var u=Object(a.sprintf)(Object(a.__)("<s>%1$s</s> %2$.1f%% + %3$s per transaction","woocommerce-payments"),c,100*s,Object(v.a)(i));o.discount&&(u+=" "+Object(a.sprintf)(Object(a.__)("(%1$d%% discount)","woocommerce-payments"),100*o.discount)),c=Object(l.a)(u,{s:Object(r.createElement)("s",null)})}return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",null,c),Object(r.createElement)(h,{feeData:o}),Object(r.createElement)(j,{feeData:o}),Object(r.createElement)("p",null,Object(r.createElement)("a",{href:t.discount.length?"https://woocommerce.com/terms-conditions/woocommerce-payments-promotion/":"https://docs.woocommerce.com/document/payments/faq/fees/",target:"_blank",rel:"noopener noreferrer"},Object(a.__)("Learn more","woocommerce-payments"))))},w=n(33),g=document.getElementById("wcpay-account-status-container");g&&c.a.render(Object(r.createElement)(y,wcpayAdminSettings),g);var E=document.getElementById("wcpay-account-fees-container");E&&c.a.render(Object(r.createElement)(O,wcpayAdminSettings),E);var S=document.querySelector("form#mainform"),x=document.getElementById("woocommerce_woocommerce_payments_manual_capture");S&&x&&!x.checked&&S.addEventListener("submit",(function(e){x.checked&&(confirm(Object(a.__)("When manual capture is enabled, charges must be captured within 7 days of authorization, otherwise the authorization and order will be canceled. Are you sure you want to enable it?","woocommerce-payments"))||e.preventDefault())})),window.addEventListener("load",(function(){Object(w.a)(wcpayAdminSettings.fraudServices)}))}}));